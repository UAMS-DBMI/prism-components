{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"react\"","webpack://[name]/external \"core-js/modules/es.function.name.js\"","webpack://[name]/external \"core-js/modules/es.array.slice.js\"","webpack://[name]/external \"core-js/modules/es.object.to-string.js\"","webpack://[name]/external \"core-js/modules/es.array.iterator.js\"","webpack://[name]/external \"core-js/modules/es.string.iterator.js\"","webpack://[name]/external \"core-js/modules/web.dom-collections.iterator.js\"","webpack://[name]/external \"core-js/modules/es.array.from.js\"","webpack://[name]/external \"core-js/modules/es.symbol.js\"","webpack://[name]/external \"core-js/modules/es.symbol.description.js\"","webpack://[name]/external \"core-js/modules/es.symbol.iterator.js\"","webpack://[name]/external \"core-js/modules/es.regexp.exec.js\"","webpack://[name]/external \"regenerator-runtime/runtime.js\"","webpack://[name]/external \"core-js/modules/es.promise.js\"","webpack://[name]/external \"core-js/modules/es.array.map.js\"","webpack://[name]/external \"core-js/modules/es.array.concat.js\"","webpack://[name]/external \"core-js/modules/web.url-search-params.js\"","webpack://[name]/external \"core-js/modules/es.array.includes.js\"","webpack://[name]/external \"core-js/modules/es.array.filter.js\"","webpack://[name]/external \"core-js/modules/es.set.js\"","webpack://[name]/external \"core-js/modules/es.object.keys.js\"","webpack://[name]/external \"core-js/modules/es.array.join.js\"","webpack://[name]/external \"core-js/modules/es.string.includes.js\"","webpack://[name]/external \"core-js/modules/es.object.get-own-property-descriptor.js\"","webpack://[name]/external \"core-js/modules/web.dom-collections.for-each.js\"","webpack://[name]/external \"core-js/modules/es.object.get-own-property-descriptors.js\"","webpack://[name]/external \"core-js/modules/es.string.link.js\"","webpack://[name]/./src/components/CohortBuilder/BarChart.jsx","webpack://[name]/./src/components/CohortBuilder/NumberRangeFilter.jsx","webpack://[name]/./src/components/CohortBuilder/RadioFilter.jsx","webpack://[name]/./src/components/CohortBuilder/Redcapfilter.jsx","webpack://[name]/./src/components/CohortBuilder/DataTable.jsx","webpack://[name]/./src/components/CohortBuilder/useFetch.js","webpack://[name]/./src/components/CohortBuilder/CohortBuilder.jsx","webpack://[name]/./src/components/CohortBuilder/person_logo.svg","webpack://[name]/./src/components/CohortBuilder/files_logo.svg","webpack://[name]/./src/components/CohortBuilder/data_logo.svg","webpack://[name]/./src/components/CohortBuilder/index.jsx"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","BarChart","props","max","rows","data","count","length","push","scope","style","className","NumberRangeFilter","useState","greaterThan","setGreaterThan","lessThan","setLessThan","setData","fetching","setFetching","disableButton","setDisableButton","fetchData","url","api","params","URLSearchParams","set","fetch","response","json","cohort","concat","summary","totalCount","patientCount","col","onClick","remove","label","type","onChange","e","target","placeholder","disabled","RadioFilter","startingFilters","choices","f","enabled","filters","setFilters","allSelect","setAllSelect","handleFetch","uris","keys","filter","uri","includes","badUris","map","join","modifyFilter","choice","checked","newFilters","input","title","readOnly","patientIds","Set","patientId","add","size","barBoxes","alignSelf","toggle","toggleAll","RedcapFilter","DataTable","headers","columns","row","ri","useFetch","useEffect","CategoryTableRow","added","TermTableRow","category","definition","FilterBox","showBox","setShowBox","textFilter","setTextFilter","escFunction","useCallback","event","keyCode","clearAll","document","addEventListener","removeEventListener","categoryFilters","filtersArr","toLowerCase","indexOf","must","viewBox","fill","stroke","strokeWidth","height","width","display","CohortBuilder","mustFilters","setMustFilters","cannotFilters","setCannotFilters","mustCohort","setMustCohort","cannotCohort","setCannotCohort","currentCohort","setCurrentCohort","showCohort","setShowCohort","showCollections","setShowCollections","allData","setAllData","cohortName","setCohortName","config","metadata","detail","displayCohort","fetchAll","removeMustFilter","x","newCohort","updateCurrentCohort","removeCannotFilter","getData","intersect","a","b","has","mustSets","mustIntersection","reduce","cannotArrays","cannotUnion","finalCohort","Array","from","addMustCohort","newMustCohort","addCannotCohort","newCannotCohort","opts","method","body","JSON","stringify","patient_ids","dParams","downloadLink","disableDownload","mustFilterBoxes","cannotFilterBoxes","nbiaLink","allFeatures","features","feature","substr","conceptCount","sum","flexGrow","src","alt","total","toLocaleString","collections","opacity","version","with","textDecoration","href","fillRule","link","desc","myFeatures","xFromFeatures","slice","CohortBuilderComponent"],"mappings":"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","file":"CohortBuilder.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"CohortBuilder\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CohortBuilder\"] = factory();\n\telse\n\t\troot[\"CohortBuilder\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n","module.exports = require(\"react\");","module.exports = require(\"core-js/modules/es.function.name.js\");","module.exports = require(\"core-js/modules/es.array.slice.js\");","module.exports = require(\"core-js/modules/es.object.to-string.js\");","module.exports = require(\"core-js/modules/es.array.iterator.js\");","module.exports = require(\"core-js/modules/es.string.iterator.js\");","module.exports = require(\"core-js/modules/web.dom-collections.iterator.js\");","module.exports = require(\"core-js/modules/es.array.from.js\");","module.exports = require(\"core-js/modules/es.symbol.js\");","module.exports = require(\"core-js/modules/es.symbol.description.js\");","module.exports = require(\"core-js/modules/es.symbol.iterator.js\");","module.exports = require(\"core-js/modules/es.regexp.exec.js\");","module.exports = require(\"regenerator-runtime/runtime.js\");","module.exports = require(\"core-js/modules/es.promise.js\");","module.exports = require(\"core-js/modules/es.array.map.js\");","module.exports = require(\"core-js/modules/es.array.concat.js\");","module.exports = require(\"core-js/modules/web.url-search-params.js\");","module.exports = require(\"core-js/modules/es.array.includes.js\");","module.exports = require(\"core-js/modules/es.array.filter.js\");","module.exports = require(\"core-js/modules/es.set.js\");","module.exports = require(\"core-js/modules/es.object.keys.js\");","module.exports = require(\"core-js/modules/es.array.join.js\");","module.exports = require(\"core-js/modules/es.string.includes.js\");","module.exports = require(\"core-js/modules/es.object.get-own-property-descriptor.js\");","module.exports = require(\"core-js/modules/web.dom-collections.for-each.js\");","module.exports = require(\"core-js/modules/es.object.get-own-property-descriptors.js\");","module.exports = require(\"core-js/modules/es.string.link.js\");","import React from 'react'\nimport './mybarchart.css'\nimport PropTypes from 'prop-types'\n\nfunction BarChart (props) {\n  let max = 0\n  const rows = []\n  for (var key in props.data) {\n    const count = props.data[key].length\n    if (count > max) max = count\n  }\n  for (key in props.data) {\n    const count = props.data[key].length\n    rows.push(\n      <tr key={key}>\n        <th scope='row'>{key}</th>\n        <td style={{ '--size': 'calc(' + count + '/' + max + ')' }}>{count}</td>\n      </tr>)\n  }\n  return (\n    <table className='my-charts-css bar show-labels'>\n      <thead>\n        <tr>\n          <th scope='col'>Age</th>\n          <th scope='col'>Count</th>\n        </tr>\n      </thead>\n      <tbody>\n        {rows}\n      </tbody>\n    </table>\n  )\n}\n\nBarChart.propTypes = {\n  data: PropTypes.object.isRequired\n}\n\nexport default BarChart\n","import React, { useState } from 'react'\nimport './Redcapfilter.css'\nimport BarChart from './BarChart'\nimport PropTypes from 'prop-types'\n\nfunction NumberRangeFilter (props) {\n  const [greaterThan, setGreaterThan] = useState('')\n  const [lessThan, setLessThan] = useState('')\n  const [data, setData] = useState(null)\n  const [fetching, setFetching] = useState(null)\n  const [disableButton, setDisableButton] = useState(false)\n\n  const fetchData = async () => {\n    setDisableButton(true)\n    setFetching(true)\n    const url = '/api/data/' + props.data.api + '?'\n    const params = new URLSearchParams()\n    if (props.data.api === 'raw-calc') {\n      params.set('name', props.data.name)\n    }\n    if (greaterThan !== '') params.set('min', greaterThan)\n    if (lessThan !== '') params.set('max', lessThan)\n    const response = await fetch(url + params)\n    const data = await response.json()\n    setData(data)\n    setFetching(false)\n    var cohort = []\n    for (var key in data) {\n      cohort = cohort.concat(data[key])\n    }\n    props.fetch(props.data.name, cohort)\n  }\n\n  let summary = <></>\n  let totalCount = ''\n  if (data !== null) {\n    let patientCount = 0\n    for (var col in data) {\n      patientCount += data[col].length\n    }\n    totalCount = patientCount + ' total subjects'\n    summary = <div><BarChart data={data} /></div>\n  }\n\n  return (\n    <div className='form_box'>\n      <button className='remove-button' onClick={() => props.remove(props.data.name)}>X</button>\n      <h4>{props.data.name}</h4>\n      <p>{props.data.label}</p>\n      <div className='boxes'>\n        <div className='num_boxes'>\n          <label>Greater than or equal to</label>\n          <input\n            type='number'\n            value={greaterThan}\n            onChange={(e) => {\n              setDisableButton(false)\n              setGreaterThan(e.target.value)\n            }}\n            placeholder='Greater than...'\n          />\n        </div>\n        <div className='num_boxes'>\n          <label>Less than or equal to</label>\n          <input\n            type='number'\n            value={lessThan}\n            onChange={(e) => {\n              setDisableButton(false)\n              setLessThan(e.target.value)\n            }}\n            placeholder='Less than...'\n          />\n        </div>\n      </div>\n      <div className='fetch-button'>\n        <button onClick={fetchData} disabled={disableButton}>Fetch Data</button>\n        {fetching === true ? <span>...</span> : <></>}\n        <span>{totalCount}</span>\n      </div>\n      <div>{summary}</div>\n    </div>\n  )\n}\n\nNumberRangeFilter.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string,\n    label: PropTypes.string,\n    api: PropTypes.string\n  }).isRequired,\n  remove: PropTypes.func.isRequired,\n  fetch: PropTypes.func.isRequired\n}\n\nexport default NumberRangeFilter\n","import React, { useState } from 'react'\nimport './Redcapfilter.css'\nimport './mybarchart.css'\nimport PropTypes from 'prop-types'\n\nfunction RadioFilter (props) {\n  const startingFilters = {}\n  if (props.data.choices) {\n    for (const f of props.data.choices) {\n      startingFilters[f.value] = { enabled: false, label: f.label }\n    }\n  }\n  const [filters, setFilters] = useState(startingFilters)\n  const [data, setData] = useState(null)\n  const [fetching, setFetching] = useState(null)\n  const [disableButton, setDisableButton] = useState(true)\n  const [allSelect, setAllSelect] = useState(false)\n\n  const handleFetch = async () => {\n    setFetching(true)\n    setDisableButton(true)\n    const url = '/api/data/' + props.data.api + '?'\n    const params = new URLSearchParams()\n    const uris = Object.keys(filters).filter((uri) =>\n      filters[uri].enabled\n    )\n    if (props.data.api.includes('raw')) {\n      params.set('name', props.data.name)\n    }\n    if (props.data.api.includes('raw') && !props.data.api.includes('checkbox')) {\n      const badUris = uris.map((uri) =>\n        filters[uri].label\n      )\n      params.set('uris', badUris.join(','))\n    } else {\n      params.set('uris', uris.join(','))\n    }\n    const response = await fetch(url + params)\n    setFetching(false)\n    const data = await response.json()\n    setData(data)\n    var cohort = []\n    for (var key in data) {\n      cohort = cohort.concat(data[key])\n    }\n    props.fetch(props.data.name, cohort)\n  }\n\n  function modifyFilter (choice, checked) {\n    const newFilters = { ...filters }\n    newFilters[choice].enabled = checked\n    setDisableButton(true)\n    for (var key in newFilters) {\n      if (newFilters[key].enabled) {\n        setDisableButton(false)\n      }\n    }\n    setFilters(newFilters)\n  }\n\n  function toggleAll (toggle) {\n    const newFilters = { ...filters }\n    for (var key in newFilters) {\n      newFilters[key].enabled = toggle\n    }\n    setDisableButton(false)\n    setAllSelect(toggle)\n    setFilters(newFilters)\n  }\n\n  function checkBoxes (choices) {\n    return Object.keys(choices).map((choice) =>\n      <label key={choice} title={choice}>\n        <input\n          type='checkbox'\n          onClick={(e) => modifyFilter(choice, e.target.checked)}\n          readOnly checked={choices[choice].enabled}\n          value={choice}\n        />\n        {choices[choice].label}\n      </label>\n    )\n  }\n\n  function barBoxes (choices, max) {\n    return Object.keys(choices).map((choice) =>\n      <tr key={choice}>\n        <label title={choice}>\n          <input\n            type='checkbox'\n            onClick={(e) => modifyFilter(choice, e.target.checked)}\n            readOnly checked={choices[choice].enabled}\n            value={choice}\n          />\n          {choices[choice].label}\n        </label>\n        {\n          /* eslint-disable react/jsx-indent */\n          /* eslint-disable indent */\n          (choice in data)\n          ? <td style={{ '--size': 'calc(' + data[choice].length + '/' + max + ')' }}>\n            {data[choice].length}\n            </td>\n          : <></>\n          /* eslint-enable react/jsx-indent */\n          /* eslint-enable indent */\n        }\n      </tr>\n    )\n  }\n\n  let input = checkBoxes(filters)\n\n  let totalCount = ''\n  const patientIds = new Set()\n  if (data !== null) {\n    let max = 0\n    for (var key in data) {\n      const count = data[key].length\n      if (count > max) max = count\n      for (var patientId of data[key]) {\n        patientIds.add(patientId)\n      }\n    }\n    totalCount = patientIds.size + ' unique subjects'\n    input = (\n      <table className='my-charts-css bar reverse'>\n        <tbody>\n          {barBoxes(filters, max)}\n        </tbody>\n      </table>)\n  }\n\n  return (\n    <div className='form_box'>\n      <button className='remove-button' onClick={() => props.remove(props.data.name)}>X</button>\n      <h4>{props.data.name}</h4>\n      <p>{props.data.label}</p>\n      <div className='boxes'>\n        <label>\n          <input\n            type='checkbox'\n            style={{ alignSelf: 'flex-start' }}\n            onClick={() => toggleAll(!allSelect)}\n            readOnly checked={allSelect}\n          />\n          Toggle All\n        </label>\n        {input}\n      </div>\n      <div className='fetch-button'>\n        <button onClick={handleFetch} disabled={disableButton}>Fetch Data</button>\n        {fetching === true ? <span>...</span> : <></>}\n        <span>{totalCount}</span>\n      </div>\n    </div>\n  )\n}\n\nRadioFilter.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string,\n    name: PropTypes.string,\n    label: PropTypes.string,\n    api: PropTypes.string,\n    choices: PropTypes.array\n  }).isRequired,\n  remove: PropTypes.func.isRequired,\n  fetch: PropTypes.func.isRequired\n}\n\nexport default RadioFilter\n","import React from 'react'\nimport './Redcapfilter.css'\nimport NumberRangeFilter from './NumberRangeFilter'\nimport RadioFilter from './RadioFilter'\nimport PropTypes from 'prop-types'\n\nfunction RedcapFilter (props) {\n  if (props.data.type === 'calc') {\n    return <NumberRangeFilter data={props.data} remove={props.remove} fetch={props.fetch} />\n  } else if (['radio', 'checkbox', 'dropdown'].includes(props.data.type)) {\n    return <RadioFilter data={props.data} remove={props.remove} fetch={props.fetch} />\n  }\n\n  return (\n    <div className='form_box'>\n      <button onClick={() => props.remove(props.data.name)}>X</button>\n      <span>Missing Type: {props.data.type}</span>\n    </div>\n  )\n}\n\nRedcapFilter.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string,\n    name: PropTypes.string\n  }).isRequired,\n  remove: PropTypes.func.isRequired,\n  fetch: PropTypes.func.isRequired\n}\n\nexport default RedcapFilter\n","import React from 'react'\nimport './DataTable.css'\nimport PropTypes from 'prop-types'\n\nfunction DataTable (props) {\n  const columns = props.data.columns\n  const headers = columns.map((name, i) => <th key={'h' + i}>{name}</th>)\n\n  const rows = props.data.data.map((row, ri) =>\n    <tr key={'row' + ri}>\n      {row.map((value, i) => <td key={'r' + ri + 'i' + i}>{value}</td>)}\n    </tr>)\n  return (\n    <table className='data-table'>\n      <thead>\n        <tr>{headers}</tr>\n      </thead>\n      <tbody>\n        {rows}\n      </tbody>\n    </table>\n  )\n}\n\nDataTable.propTypes = {\n  data: PropTypes.shape({\n    columns: PropTypes.array,\n    data: PropTypes.array\n  }).isRequired\n}\n\nexport default DataTable\n","import { useState, useEffect } from 'react'\n\nexport const useFetch = url => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    async function fetchData () {\n      const response = await fetch(url)\n      const json = await response.json()\n      setData(json)\n    }\n    fetchData()\n  }, [url])\n  return data\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport './CohortBuilder.css'\nimport RedcapFilter from './Redcapfilter'\nimport DataTable from './DataTable'\nimport { useFetch } from './useFetch'\nimport DataLogo from './data_logo.svg'\nimport FilesLogo from './files_logo.svg'\nimport PersonLogo from './person_logo.svg'\nimport PropTypes from 'prop-types'\n\nfunction CategoryTableRow (props) {\n  return (\n    <tr className='filter_row' onClick={() => props.added(props.data.name, null)}>\n      <td>{props.data.name}</td>\n      <td>{props.data.label}</td>\n    </tr>\n  )\n}\n\nCategoryTableRow.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string,\n    label: PropTypes.label\n  }).isRequired,\n  added: PropTypes.func\n}\n\nfunction TermTableRow (props) {\n  return (\n    <tr className='filter_row' onClick={() => props.added(props.category, props.value)}>\n      <td>{props.category}</td>\n      <td>{props.label}</td>\n      <td>{props.definition}</td>\n    </tr>\n  )\n}\n\nTermTableRow.propTypes = {\n  category: PropTypes.string,\n  label: PropTypes.string,\n  definition: PropTypes.string,\n  value: PropTypes.string,\n  added: PropTypes.func\n}\n\nfunction FilterBox (props) {\n  const [showBox, setShowBox] = useState(false)\n  const [textFilter, setTextFilter] = useState('')\n\n  const escFunction = useCallback((event) => {\n    if (event.keyCode === 27) clearAll()\n    //    if(event.keyCode === 13) try_enter();\n  }, [])\n\n  useEffect(() => {\n    document.addEventListener('keydown', escFunction, false)\n\n    return () => {\n      document.removeEventListener('keydown', escFunction, false)\n    }\n  }, [escFunction])\n\n  const added = (category, uri) => {\n    setShowBox(false)\n    setTextFilter('')\n    props.added(category, uri)\n  }\n\n  function clearAll () {\n    setTextFilter('')\n    setShowBox(false)\n  }\n\n  const categoryFilters = props.data.map(row =>\n    <CategoryTableRow data={row} key={row.name} added={added} />\n  )\n\n  var filtersArr = []\n  for (var category of props.data) {\n    if ('choices' in category) {\n      for (var choice of category.choices) {\n        if (choice.label.toLowerCase().indexOf(textFilter.toLowerCase()) >= 0) {\n          filtersArr.push({ category: category.name, label: choice.label, value: choice.value, definition: choice.definition })\n        }\n      }\n    }\n    if (category.name.toLowerCase().indexOf(textFilter.toLowerCase()) >= 0) {\n      filtersArr.push({ category: category.name, label: category.name, value: '', definition: category.definition })\n    }\n  }\n  const filters = filtersArr.map((row, i) =>\n    <TermTableRow category={row.category} label={row.label} definition={row.definition} uri={row.value} key={i} added={added} />\n  )\n\n  /* function try_enter(){\n    if(filtersArr.length === 1){\n      added(filtersArr[0].category, filtersArr[0].value);\n    }\n  } */\n\n  return (\n    <div className='filter_div'>\n      <span className='filter_type'>{props.must} Criteria</span>\n      <div className='filter_container'>\n        <div className='filter_spreader'>\n          <div className='filter_search_box'>\n            <div className='filter_form'>\n              <input\n                className='filter_search_input'\n                type='text'\n                value={textFilter}\n                onChange={(e) => {\n                  setTextFilter(e.target.value)\n                }}\n                placeholder='Search Term...'\n              />\n              <svg className='filter_button' viewBox='0 0 490 490'>\n                <path fill='none' stroke='#000' strokeWidth='36' d='m280,278a153,153 0 1,0-2,2l170,170m-91-117 110,110-26,26-110-110' />\n              </svg>\n            </div>\n            <span className='explore_button' onClick={() => setShowBox(!showBox)}>\n              <svg height='1em' width='1em' viewBox='0 0 512 512'>\n                <path d='m478.387 321.984h-28.847l-51.232-62.619c-6.409-7.836-15.892-12.33-26.016-12.33h-106.292v-57.02h94.969c18.534 0 33.613-15.079 33.613-33.613v-66.359c0-18.534-15.079-33.613-33.613-33.613h-60.565c-5.522 0-10 4.478-10 10s4.478 10 10 10h60.565c7.507 0 13.613 6.106 13.613 13.613v66.359c0 7.507-6.106 13.613-13.613 13.613h-209.938c-7.507 0-13.613-6.106-13.613-13.613v-66.359c0-7.507 6.106-13.613 13.613-13.613h60.666c5.522 0 10-4.478 10-10s-4.478-10-10-10h-60.666c-18.534 0-33.613 15.079-33.613 33.613v66.359c0 18.534 15.079 33.613 33.613 33.613h94.969v57.02h-106.697c-10.124 0-19.606 4.494-26.015 12.329l-51.233 62.62h-28.442c-18.534 0-33.613 15.079-33.613 33.614v66.359c0 18.534 15.079 33.613 33.613 33.613h66.359c18.534 0 33.613-15.079 33.613-33.613v-66.359c0-18.534-15.079-33.613-33.613-33.613h-12.077l40.873-49.957c2.596-3.173 6.436-4.992 10.535-4.992h106.697v54.949h-23.18c-18.534 0-33.613 15.079-33.613 33.613v66.359c0 18.534 15.079 33.613 33.613 33.613h66.359c18.534 0 33.613-15.079 33.613-33.613v-66.359c0-18.534-15.079-33.613-33.613-33.613h-23.179v-54.949h106.292c4.1 0 7.939 1.819 10.536 4.993l40.872 49.956h-11.673c-18.534 0-33.613 15.079-33.613 33.613v66.359c0 18.534 15.079 33.613 33.613 33.613h66.359c18.534 0 33.613-15.079 33.613-33.613v-66.359c.001-18.535-15.078-33.614-33.612-33.614zm-364.801 33.614v66.359c0 7.507-6.106 13.613-13.613 13.613h-66.36c-7.507 0-13.613-6.106-13.613-13.613v-66.359c0-7.507 6.106-13.613 13.613-13.613h66.359c7.507-.001 13.614 6.106 13.614 13.613zm189.207 0v66.359c0 7.507-6.106 13.613-13.613 13.613h-66.36c-7.507 0-13.613-6.106-13.613-13.613v-66.359c0-7.507 6.106-13.613 13.613-13.613h66.359c7.508-.001 13.614 6.106 13.614 13.613zm189.207 66.359c0 7.507-6.106 13.613-13.613 13.613h-66.359c-7.507 0-13.613-6.106-13.613-13.613v-66.359c0-7.507 6.106-13.613 13.613-13.613h66.359c7.507 0 13.613 6.106 13.613 13.613z' />\n                <path d='m246.77 70.25c2.067 5.039 8.028 7.494 13.05 5.41 5.03-2.087 7.501-8.014 5.41-13.051-2.091-5.036-8.012-7.509-13.06-5.42-5.024 2.079-7.488 8.045-5.4 13.061z' />\n              </svg>\n            </span>\n          </div>\n          <div className='filter_results_container' style={{ display: (showBox ? 'flex' : 'none') }}>\n            <button style={{ alignSelf: 'flex-end' }} onClick={() => clearAll()}>Close</button>\n            <div className='filter_list'>\n              <table className='filter_table'>\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Description</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {categoryFilters}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className='filter_results_container' style={{ display: (textFilter !== '' ? 'flex' : 'none') }}>\n            <button style={{ alignSelf: 'flex-end' }} onClick={() => clearAll()}>Close</button>\n            <div className='filter_list'>\n              <table className='filter_table'>\n                <thead>\n                  <tr>\n                    <th>Category</th>\n                    <th>Term</th>\n                    <th>Definition</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filters}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nFilterBox.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    added: PropTypes.func.isRequired,\n    api: PropTypes.string,\n    choices: PropTypes.array.isRequired,\n    definition: PropTypes.string\n  })).isRequired,\n  added: PropTypes.func.isRequired,\n  must: PropTypes.string.isRequired\n}\n\nfunction CohortBuilder () {\n  const [mustFilters, setMustFilters] = useState([])\n  const [cannotFilters, setCannotFilters] = useState([])\n  const [mustCohort, setMustCohort] = useState({})\n  const [cannotCohort, setCannotCohort] = useState({})\n  const [currentCohort, setCurrentCohort] = useState([])\n  const [showCohort, setShowCohort] = useState(false)\n  const [showCollections, setShowCollections] = useState(false)\n  const [allData, setAllData] = useState([])\n  const [cohortName, setCohortName] = useState('Unnamed')\n  const [fetching, setFetching] = useState(false)\n\n  const config = useFetch('/api/config')\n  const metadata = useFetch('/api/collections')\n\n  if (config === null || metadata === null) {\n    return <span>...loading...</span>\n  }\n  if (config.detail === 'Not Found') {\n    return <span>Error loading config</span>\n  }\n  if (metadata.detail === 'Not Found') {\n    return <span>Error loading config</span>\n  }\n\n  function resetAll () {\n    setMustFilters([])\n    setCannotFilters([])\n    setMustCohort({})\n    setCannotCohort({})\n    setCurrentCohort([])\n    setShowCohort(false)\n    setShowCollections(false)\n    setAllData([])\n    setCohortName('Unnamed')\n    setFetching(false)\n  }\n\n  function displayCohort () {\n    setShowCohort(!showCohort)\n    if (!showCohort) fetchAll(currentCohort)\n  }\n\n  const addMustFilter = (category, uri) => {\n    if (mustFilters.indexOf(category) >= 0) return\n    const newFilters = mustFilters.slice()\n    newFilters.push(category)\n    setMustFilters(newFilters)\n  }\n\n  const removeMustFilter = (name) => {\n    const newFilters = mustFilters.filter((x) => x !== name)\n    setMustFilters(newFilters)\n    const newCohort = { ...mustCohort }\n    delete newCohort[name]\n    setMustCohort(newCohort)\n    updateCurrentCohort(newCohort, cannotCohort)\n  }\n\n  const addCannotFilter = (category, uri) => {\n    if (cannotFilters.indexOf(category) >= 0) return\n    const newFilters = cannotFilters.slice()\n    newFilters.push(category)\n    setCannotFilters(newFilters)\n  }\n\n  const removeCannotFilter = (name) => {\n    const newFilters = cannotFilters.filter((x) => x !== name)\n    setCannotFilters(newFilters)\n    const newCohort = { ...cannotCohort }\n    delete newCohort[name]\n    setCannotCohort(newCohort)\n    updateCurrentCohort(mustCohort, newCohort)\n  }\n\n  function getData (name) {\n    for (const row of config) {\n      if (row.name === name) {\n        return row\n      }\n    }\n  }\n\n  function intersect (a, b) {\n    return new Set([...a].filter(i => b.has(i)))\n  }\n\n  function updateCurrentCohort (mustCohort, cannotCohort) {\n    if (mustCohort.length === 0) {\n      setCurrentCohort([])\n      setShowCohort(false)\n      setAllData([])\n      return\n    }\n    const mustSets = []\n    Object.keys(mustCohort).map((cohort) => mustSets.push(new Set(mustCohort[cohort])))\n    var mustIntersection = new Set()\n    if (Object.keys(mustCohort).length > 0) {\n      mustIntersection = mustSets.reduce(intersect)\n    }\n    var cannotArrays = []\n    for (var key in cannotCohort) {\n      cannotArrays = cannotArrays.concat(cannotCohort[key])\n    }\n    const cannotUnion = new Set(cannotArrays)\n    const finalCohort = Array.from(mustIntersection).filter(x => !cannotUnion.has(x))\n    setCurrentCohort(finalCohort)\n    setShowCohort(false)\n    setAllData([])\n    // fetchAll(finalCohort);\n  }\n\n  const addMustCohort = (name, patientIds) => {\n    const newMustCohort = { ...mustCohort }\n    newMustCohort[name] = patientIds\n    setMustCohort(newMustCohort)\n    updateCurrentCohort(newMustCohort, cannotCohort)\n  }\n\n  const addCannotCohort = (name, patientIds) => {\n    const newCannotCohort = { ...cannotCohort }\n    newCannotCohort[name] = patientIds\n    setCannotCohort(newCannotCohort)\n    updateCurrentCohort(mustCohort, newCannotCohort)\n  }\n\n  async function fetchAll (currentCohort) {\n    setFetching(true)\n    setAllData([])\n    const url = '/api/data?'\n    const opts = {\n      method: 'POST',\n      body: JSON.stringify(\n        { patient_ids: currentCohort }\n      ),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }\n    const response = await fetch(url, opts)\n    const data = await response.json()\n    setFetching(false)\n    setAllData(data)\n  }\n\n  const dUrl = '/api/data?'\n  const dParams = new URLSearchParams()\n  dParams.set('patient_ids', currentCohort.join(','))\n  dParams.set('downloadFile', cohortName)\n  const downloadLink = dUrl + dParams\n  const disableDownload = downloadLink.length > 7000\n\n  const mustFilterBoxes = mustFilters.map(row =>\n    <RedcapFilter data={getData(row)} key={row} remove={removeMustFilter} fetch={addMustCohort} />\n  )\n\n  const cannotFilterBoxes = cannotFilters.map(row =>\n    <RedcapFilter data={getData(row)} key={row} remove={removeCannotFilter} fetch={addCannotCohort} />\n  )\n\n  const params = new URLSearchParams()\n  params.set('PatientCriteria', currentCohort.join(','))\n  const nbiaLink = 'https://nbia.cancerimagingarchive.net/nbia-search/?' + params\n  // const nbiaLink = 'https://portal.aries.uams.edu/nbia-search/?' + params;\n\n  const allFeatures = metadata.features.map((feature) =>\n    <th key={feature}>{feature.substr(18)}</th>\n  )\n\n  function xFromFeatures (allFeatures, myFeatures) {\n    return allFeatures.map((feature) => {\n      const x = myFeatures.indexOf(feature) >= 0\n\n      return <td key={feature} className='col_feature'>{x ? 'X' : ''}</td>\n    }\n    )\n  }\n\n  const conceptCount = config.reduce(function (sum, feature) {\n    if (Object.keys(feature).includes('choices')) {\n      return sum + feature.choices.length\n    } else {\n      return sum + 1\n    }\n  }, 0)\n\n  return (\n    <div>\n      <header className='Beam-header'>\n        <div className='header_section' style={{ flexGrow: 0 }}>\n          <h2 className='collection_size'>Repository Overview</h2>\n          <div className='collection_info'>\n            <div className='collection_info_category'>\n              <h4>Subjects</h4>\n              <div className='collection_icon_row'>\n                <img className='collection_icons' src={PersonLogo} alt='Person Icon' />\n                <span>{metadata.total.toLocaleString()}</span>\n              </div>\n            </div>\n            <div className='collection_info_category'>\n              <h4>Collections</h4>\n              <div className='collection_icon_row'>\n                <img className='collection_icons' src={FilesLogo} alt='Collection Icon' />\n                <span>{metadata.collections.length}</span>\n              </div>\n            </div>\n            <div className='collection_info_category'>\n              <h4>Concepts</h4>\n              <div className='collection_icon_row'>\n                <img className='collection_icons' src={DataLogo} alt='Data Icon' />\n                <span>{conceptCount}</span>\n              </div>\n            </div>\n          </div>\n          <button className='show_collection_button' onClick={() => setShowCollections(!showCollections)}>\n            <svg className='filter_button' viewBox='0 0 490 490'>\n              <path opacity='0.4' fill='none' stroke='#000' strokeWidth='36' d='m280,278a153,153 0 1,0-2,2l170,170m-91-117 110,110-26,26-110-110' />\n            </svg>\n            <span>{showCollections ? 'Hide' : 'Show'} Collections</span>\n          </button>\n        </div>\n        <div className='header_section' style={{ flexGrow: 0 }}>\n          <h2 className=''>Current Cohort - {currentCohort.length} subjects</h2>\n          <div className='row_flex'>\n            <button className='tallButton' onClick={() => resetAll()}>\n              <svg version='1.1' viewBox='0 0 70 70' height='3em' with='3em'>\n                <g>\n                  <g fill='#555753'>\n                    <path d='m32.5 4.999c-5.405 0-10.444 1.577-14.699 4.282l-5.75-5.75v16.11h16.11l-6.395-6.395c3.18-1.787 6.834-2.82 10.734-2.82 12.171 0 22.073 9.902 22.073 22.074 0 2.899-0.577 5.664-1.599 8.202l4.738 2.762c1.47-3.363 2.288-7.068 2.288-10.964 0-15.164-12.337-27.501-27.5-27.501z' />\n                    <path d='m43.227 51.746c-3.179 1.786-6.826 2.827-10.726 2.827-12.171 0-22.073-9.902-22.073-22.073 0-2.739 0.524-5.35 1.439-7.771l-4.731-2.851c-1.375 3.271-2.136 6.858-2.136 10.622 0 15.164 12.336 27.5 27.5 27.5 5.406 0 10.434-1.584 14.691-4.289l5.758 5.759v-16.112h-16.111l6.389 6.388z' />\n                  </g>\n                </g>\n              </svg>\n              <span>Reset Filters</span>\n            </button>\n            <button\n              className='tallButton'\n              disabled={currentCohort.length === 0}\n              onClick={() => displayCohort()}\n            >\n              <svg className='filter_button' viewBox='0 0 490 490'>\n                <path opacity='0.4' fill='none' stroke='#000' strokeWidth='36' d='m280,278a153,153 0 1,0-2,2l170,170m-91-117 110,110-26,26-110-110' />\n              </svg>\n              <span>{showCohort ? 'Hide' : 'Preview'} Subjects ({currentCohort.length})</span>\n            </button>\n            <a style={{ textDecoration: 'none' }} href={downloadLink}>\n              <button\n                className='tallButton'\n                disabled={currentCohort.length === 0}\n              >\n                <svg version='1.1' viewBox='0 0 20 20' height='2em' with='2em'>\n                  <path\n                    fill='#555753' opacity='0.5'\n                    d='M.5 9.9a.5.5 0 01.5.5v2.5a1 1 0 001 1h12a1 1 0 001-1v-2.5a.5.5 0 011 0v2.5a2 2 0 01-2 2H2a2 2 0 01-2-2v-2.5a.5.5 0 01.5-.5z'\n                  />\n                  <path\n                    fill='#555753' opacity='0.5'\n                    d='M7.646 11.854a.5.5 0 00.708 0l3-3a.5.5 0 00-.708-.708L8.5 10.293V1.5a.5.5 0 00-1 0v8.793L5.354 8.146a.5.5 0 10-.708.708l3 3z'\n                  />\n                </svg>\n                <span>Download CSV ({currentCohort.length})</span>\n              </button>\n            </a>\n            <a href={nbiaLink} style={{ textDecoration: 'none' }} target='_'>\n              <button disabled={currentCohort.length === 0 || disableDownload} className='tallButton'>\n                <svg\n                  fill='currentColor'\n                  viewBox='0 0 16 16'\n                  height='3em'\n                  width='3em'\n                >\n                  <path\n                    fillRule='evenodd'\n                    d='M.5 9.9a.5.5 0 01.5.5v2.5a1 1 0 001 1h12a1 1 0 001-1v-2.5a.5.5 0 011 0v2.5a2 2 0 01-2 2H2a2 2 0 01-2-2v-2.5a.5.5 0 01.5-.5z'\n                  />\n                  <path\n                    fillRule='evenodd'\n                    d='M7.646 11.854a.5.5 0 00.708 0l3-3a.5.5 0 00-.708-.708L8.5 10.293V1.5a.5.5 0 00-1 0v8.793L5.354 8.146a.5.5 0 10-.708.708l3 3z'\n                  />\n                </svg>\n                <span>{disableDownload ? 'Too Many Subjects' : 'Browse Files'}</span>\n              </button>\n            </a>\n          </div>\n        </div>\n      </header>\n      {\n        /* eslint-disable react/jsx-indent */\n        /* eslint-disable indent */\n        (showCollections === true)\n          ? <div className='collection_table'>\n              <table>\n                <thead>\n                  <tr>\n                    <th>Collection</th>\n                    <th>Description</th>\n                    <th>Count</th>\n                    {allFeatures}\n                  </tr>\n                </thead>\n                <tbody>\n                  {metadata.collections.map((col) =>\n                    <tr key={col.link}>\n                      <td><a href={col.link}>{col.name}</a></td>\n                      <td>{col.desc}</td>\n                      <td>{col.count}</td>\n                      {xFromFeatures(metadata.features, col.features)}\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          : <></>\n          /* eslint-enable react/jsx-indent */\n          /* eslint-enable indent */\n      }\n      {\n        /* eslint-disable react/jsx-indent */\n        /* eslint-disable indent */\n        (showCohort === true)\n          ? <div className='currentCohort'>\n            {fetching\n              ? <span>fetching...</span>\n              : <>\n                  <h3>Sample Records</h3>\n                  <DataTable data={allData} />\n                </>}\n            </div>\n          : <></>\n          /* eslint-enable react/jsx-indent */\n          /* eslint-enable indent */\n      }\n      <div className='filters'>\n        <div className='filter_item_container'>\n          <FilterBox must='Inclusion' data={config} added={addMustFilter} />\n          {mustFilterBoxes}\n        </div>\n        <div className='filter_item_container'>\n          <FilterBox must='Exclusion' data={config} added={addCannotFilter} />\n          {cannotFilterBoxes}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CohortBuilder\n","export default \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik01MCAzMy4zMzNjLTcuMiAwLTEyLjEyMiA1LjgwOC0xMC45MzggMTIuOTFsMS43OTcgMTAuNzUyYy43MSA0LjI2NSA0LjgxNyA3Ljc0OCA5LjE0MSA3Ljc0OCA0LjMxOSAwIDguNDM1LTMuNDgzIDkuMTQ0LTcuNzQ4bDEuNzkxLTEwLjc1MmMxLjE4NC03LjEwMi0zLjczOC0xMi45MS0xMC45MzUtMTIuOTF6TTcyLjQ1MSA2OS43MDQgNTkuOTIyIDY1LjUzYy0yLjYzIDIuNTY4LTYuMTY1IDQuMjEzLTkuOTIyIDQuMjEzcy03LjI5Mi0xLjY0NS05LjkyMi00LjIxM2wtMTIuNTI2IDQuMTc0Yy0yLjMxNy43NzQtNC4yMTkgMy40MDgtNC4yMTkgNS44NTN2MTEuMTFoNTMuMzM0di0xMS4xMWMwLTIuNDQ1LTEuODk4LTUuMDc4LTQuMjE2LTUuODUzeiIvPjxwYXRoIGQ9Ik02My4zMzMgMjYuNjY3Yy0yLjk4NCAwLTUuNTQgMS4wMzgtNy40NjcgMi43MTUgMi41NTIuOTMxIDQuODIgMi40NTcgNi41NTkgNC41MTIgMi45OTUgMy41MzUgNC4yNDggOC4zMzMgMy40NDEgMTMuMTdsLTEuNzkxIDEwLjc1MmMtLjAxLjA2NS0uMDM5LjEyNy0uMDUyLjE5MiA0LjA2LS4zNDkgNy43ODMtMy42NDYgOC40NTQtNy42NzlsMS43OS0xMC43NTJjMS4xODUtNy4xMDMtMy43MzctMTIuOTEtMTAuOTM0LTEyLjkxek0zNy41NzEgMzMuODk0YzIuNDE2LTIuODUyIDUuODM0LTQuNjk3IDkuNjQzLTUuMzEzbC4zODctMi4zMzhjMS4xODYtNy4xMDMtMy43MzYtMTIuOTEtMTAuOTM0LTEyLjkxLTcuMjAxIDAtMTIuMTIzIDUuODA4LTEwLjkzOCAxMi45MWwxLjc5NyAxMC43NTJjLjU1MyAzLjMzNyAzLjE5NiA2LjE2OSA2LjM5IDcuMjU2LS4wMTMtMy44NDggMS4yNDctNy41MTMgMy42NTUtMTAuMzU3ek0yNS45NjQgNjQuOTYxbDExLjA5NC0zLjY5MWMtLjUxMi0xLjA5Ny0uOTMyLTIuMjM5LTEuMTMzLTMuNDU0bC0xLjM4NC04LjMwMWMtMi45NDYtLjQ5MS01LjY3MS0xLjkxLTcuNzk2LTMuOTg0bC0xMi41MjYgNC4xNzRDMTEuOTAxIDUwLjQ3OSAxMCA1My4xMTIgMTAgNTUuNTU3djExLjExaDEyLjg0NWExMC40OSAxMC40OSAwIDAgMSAzLjExOS0xLjcwNnpNODUuNzg0IDYzLjAzN2wtMTIuNTI5LTQuMTczYTE0Ljg2OCAxNC44NjggMCAwIDEtNi40NTUgMy42ODhsNy4yMyAyLjQwOWM0LjM1NSAxLjQ1NSA3LjYzNyA2LjAwOSA3LjYzNyAxMC41OTZWODBIOTBWNjguODljMC0yLjQ0NS0xLjg5Ny01LjA3OC00LjIxNi01Ljg1M3oiLz48L3N2Zz4=\"","export default \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik02Ni42NjcgMzYuNjY3djIwaDIwek0zMy4zMzMgNDMuMzMzQzMzLjMzMyAzNS45NzcgMzkuMzE2IDMwIDQ2LjY2NyAzMEg2MHYtNi42NjdIMzMuMzMzQTYuNjY0IDYuNjY0IDAgMCAwIDI2LjY2NyAzMHY0MGE2LjY2OCA2LjY2OCAwIDAgMCA2LjY2NiA2LjY2N1Y0My4zMzN6Ii8+PHBhdGggZD0iTTIwIDMwYzAtNy4zNTYgNS45ODMtMTMuMzMzIDEzLjMzMy0xMy4zMzNoMTMuMzM0VjEwSDIwYTYuNjY1IDYuNjY1IDAgMCAwLTYuNjY3IDYuNjY3djQwQTYuNjY5IDYuNjY5IDAgMCAwIDIwIDYzLjMzM1YzMHpNNjYuNjY3IDYzLjMzM0E2LjY2OSA2LjY2OSAwIDAgMSA2MCA1Ni42Njd2LTIwSDQ2LjY2N0E2LjY2NCA2LjY2NCAwIDAgMCA0MCA0My4zMzN2NDBBNi42NjkgNi42NjkgMCAwIDAgNDYuNjY3IDkwSDgwYTYuNjY2IDYuNjY2IDAgMCAwIDYuNjY3LTYuNjY3di0yMGgtMjB6bTEwIDE2LjY2N0g1MHYtNi42NjdoMjYuNjY3VjgweiIvPjwvc3ZnPg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBzdHlsZT0iZmlsbDojMTcxNjE3IiBkPSJNMTA1LjkyNCA3Ni40NTFjLTMuNjc4IDAtNy4xMzcuOTI2LTEwLjE3NiAyLjU1NmwtMy44NzctNC4yMDlhMjMuMzM4IDIzLjMzOCAwIDAgMCA0LjQ3MS0xMC4wNzEgMTUuNjQyIDE1LjY0MiAwIDAgMCA2LjQzMiAxLjM2NmM4Ljg1NSAwIDE2LjA1Ny03LjIwNiAxNi4wNTctMTYuMDQzIDAtOC44NTktNy4yMDMtMTYuMDY2LTE2LjA1Ny0xNi4wNjZhMTUuOTk1IDE1Ljk5NSAwIDAgMC0xNC4yMjkgOC42NjFjLTQuMTQxLTMuNTkyLTkuNDkzLTUuNzUyLTE1LjM3NS01Ljc1Mi0zLjE1IDAtNi4xNDUuNjE3LTguODc3IDEuNzQxbC0uODM3LTEuMTQ2YTE3LjkyNCAxNy45MjQgMCAwIDAgMy45NDMtMTEuMjM5YzAtOS45MTctOC4wNjItMTcuOTgzLTE3Ljk5Ni0xNy45ODMtOS45MTIgMC0xNy45NzQgOC4wNjYtMTcuOTc0IDE3Ljk4MyAwIDkuOTM5IDguMDYyIDE4LjAwNSAxNy45NzQgMTguMDA1IDIuNDg5IDAgNC44NjgtLjUwNyA3LjA0OS0xLjQzM2wuNDYyLjYxNy0uNzIuMTk4Yy00LjMzOSA0LjI1My03LjU5MiAxMC4yNDgtNy41OTIgMTYuODM3di40MTlsLTQuMzAyLjcyN2MtNC4zMTctNi43LTExLjU5LTExLjEyOS0yMC4xMzYtMTEuMTI5QzEwLjc3MyA1MC40OTEgMCA2MS4zOTkgMCA3NC43OThzMTAuOTY4IDI0LjMwOCAyNC4zNiAyNC4zMDggMjQuMzI4LTEwLjkwOSAyNC4zMjgtMjQuMzA4YzAtMS42MzEtLjEyNy0zLjIzOS0uNDM1LTQuNzgybDMuMTYzLS40ODVjMy41NDYgOC41MjkgMTEuOTY3IDE0LjUyMyAyMS43NDcgMTQuNTIzIDQuNDQ5IDAgOC42MTYtMS4yMzQgMTIuMTYyLTMuMzk0bDMuNjU4IDQuMDExYTIxLjQ2MyAyMS40NjMgMCAwIDAtNC42OTEgMTMuNDIxYzAgMTEuOTQ0IDkuNzE0IDIxLjY0MSAyMS42MyAyMS42NDEgMTEuOTM4IDAgMjEuNjMtOS42OTcgMjEuNjMtMjEuNjQxLjAwMi0xMS45MjItOS42OS0yMS42NDEtMjEuNjI4LTIxLjY0MXptLTMuMTUtMzMuNjUxYTcuMjU1IDcuMjU1IDAgMCAxIDcuMjQ3IDcuMjUxYzAgMy45ODktMy4yNiA3LjIyOC03LjI0NyA3LjIyOHMtNy4yNDctMy4yMzktNy4yNDctNy4yMjhhNy4yNTQgNy4yNTQgMCAwIDEgNy4yNDctNy4yNTF6TTI0LjQyNiA5MC4yOTFjLTguNTQ2IDAtMTUuNDg1LTYuOTQyLTE1LjQ4NS0xNS40OTNzNi45MzgtMTUuNDkzIDE1LjQ4NS0xNS40OTNTMzkuOTEgNjYuMjQ4IDM5LjkxIDc0Ljc5OHMtNi45MzggMTUuNDkzLTE1LjQ4NCAxNS40OTN6bTI0Ljk3OC01NC44NTJjLTUuMDY2IDAtOS4xNjMtNC4xMjEtOS4xNjMtOS4xOSAwLTUuMDQ3IDQuMDk3LTkuMTY4IDkuMTYzLTkuMTY4czkuMTg1IDQuMTIxIDkuMTg1IDkuMTY4YzAgNS4wNjktNC4xMTkgOS4xOS05LjE4NSA5LjE5em0yMy43NjYgMzkuOGMtOC4xMjggMC0xNC43MzYtNi42MTEtMTQuNzM2LTE0Ljc2NSAwLTguMTMyIDYuNjA4LTE0Ljc2NSAxNC43MzYtMTQuNzY1IDguMTUgMCAxNC43NTggNi42MzMgMTQuNzU4IDE0Ljc2NSAwIDguMTU0LTYuNjA4IDE0Ljc2NS0xNC43NTggMTQuNzY1em0zMi43NTQgMzUuNjc5Yy03LjA3IDAtMTIuODE5LTUuNzUyLTEyLjgxOS0xMi44MjZzNS43NDktMTIuODI2IDEyLjgxOS0xMi44MjZjNy4wNzEgMCAxMi44MTkgNS43NTIgMTIuODE5IDEyLjgyNnMtNS43NDkgMTIuODI2LTEyLjgxOSAxMi44MjZ6Ii8+PC9zdmc+\"","import React from 'react'\nimport CohortBuilder from './CohortBuilder'\n\n// From https://reactjs.org/docs/hooks-state.html\nexport default function CohortBuilderComponent () {\n  return (\n    <CohortBuilder />\n  )\n}\n"],"sourceRoot":""}